# Function to generate commit message using LLM
generate_commit() {
    git add .
    # Get the staged changes
    DIFF=$(git diff --cached)
    
    if [ -z "$DIFF" ]; then
        echo "No staged changes found. Please stage your changes first using 'git add'"
        return 1
    fi
    
    # Generate commit message using LLM
    COMMIT_MSG=$(echo "$DIFF" | llm -m gemini -x "Generate a concise commit message (first line) and detailed description (separated by blank line) based on these changes. Follow conventional commits format. Git diff: ")
    
    if [ -z "$COMMIT_MSG" ]; then
        echo "Failed to generate commit message"
        return 1
    fi
    
    # Commit with the generated message
    git commit -m "$COMMIT_MSG"
}

generate_commit
# Alias for the function
#alias gac='generate_commit'